<!DOCTYPE html>
<html lang=en>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description" content="Singapore postcodes map to actual buildings">
		<link rel="stylesheet" href="https://newcss.net/lite.css">
		<title>Singapore postcode lookup</title>
	</head>
	<body>
		<form>
		<p>
		<label>Singapore Postcode:<input name="postcode" required type="number" min="000001" max="999999"></label>
		</p>
		<p>
		<label>Response</label><br>
		<label>
			<input type="radio" name="r" value="json">
			JSON
		</label>
		<br>
		<label>
			<input type="radio" name="r" value="gmap" checked>
			Google Maps
		</label>
		</p>
		<input type="submit">
		</form>

		<pre><code>#!/bin/bash
cat &lt;&lt; EOF |
[
{ &quot;name&quot;: &quot;Office&quot;, &quot;postcode&quot;: &quot;069535&quot; },
{ &quot;name&quot;: &quot;Bar&quot;, &quot;postcode&quot;: &quot;238875&quot; }
]
EOF
jq -r '.[]|.name,.postcode' |
while read -r name
read -r postcode; do
coords=$(curl -s &quot;https://postcode.dabase.com/?postcode=$postcode&quot; |
    jq --arg name $name '.properties.Name = $name')
echo $coords
done | jq -s '{ &quot;type&quot;: &quot;FeatureCollection&quot;, &quot;features&quot;: . }'
</code></pre>

	<p><a href="https://github.com/kaihendry/singapore-postcode">MIT Source code</a></p>
	</body>
	</html>
